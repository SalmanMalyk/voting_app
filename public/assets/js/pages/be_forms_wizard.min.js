!(function() {
	function a(a, i) {
		for (var e = 0; e < i.length; e++) {
			var r = i[e];
			(r.enumerable = r.enumerable || !1),
				(r.configurable = !0),
				"value" in r && (r.writable = !0),
				Object.defineProperty(a, r.key, r);
		}
	}
	var i = (function() {
		function i() {
			!(function(a, i) {
				if (!(a instanceof i))
					throw new TypeError("Cannot call a class as a function");
			})(this, i);
		}
		var e, r;
		return (
			(e = i),
			(r = [
				{
					key: "initWizardDefaults",
					value: function() {
						(jQuery.fn.bootstrapWizard.defaults.tabClass =
							"nav nav-tabs"),
							(jQuery.fn.bootstrapWizard.defaults.nextSelector =
								'[data-wizard="next"]'),
							(jQuery.fn.bootstrapWizard.defaults.previousSelector =
								'[data-wizard="prev"]'),
							(jQuery.fn.bootstrapWizard.defaults.firstSelector =
								'[data-wizard="first"]'),
							(jQuery.fn.bootstrapWizard.defaults.lastSelector =
								'[data-wizard="lsat"]'),
							(jQuery.fn.bootstrapWizard.defaults.finishSelector =
								'[data-wizard="finish"]'),
							(jQuery.fn.bootstrapWizard.defaults.backSelector =
								'[data-wizard="back"]');
					},
				},
				{
					key: "initWizardSimple",
					value: function() {
						jQuery(".js-wizard-simple").bootstrapWizard({
							onTabShow: function(a, i, e) {
								var r = ((e + 1) / i.find("li").length) * 100,
									t = i
										.parents(".block")
										.find(
											'[data-wizard="progress"] > .progress-bar'
										);
								t.length && t.css({ width: r + 1 + "%" });
							},
						});
					},
				},
				{
					key: "initWizardValidation",
					value: function() {
						Dashmix.helpers("validation");
						jQuery(".js-wizard-validation").bootstrapWizard({
							tabClass: "",
							onTabShow: function(a, i, e) {
								var r = ((e + 1) / i.find("li").length) * 100,
									t = i
										.parents(".block")
										.find(
											'[data-wizard="progress"] > .progress-bar'
										);
								t.length && t.css({ width: r + 1 + "%" });
							},
							onNext: function(i, r, t) {
								if(!$('#company_name').val()) {
									Toast.fire({
									  icon: 'error',
									  title: 'Company name is required!'
									})
									return r.focusInvalid()
									return false;
								} else if(!$('#contact_person').val()) {
									Toast.fire({
									  icon: 'error',
									  title: 'Contact person is required!'
									})
									return r.focusInvalid()
									return false;
								} else if(!$('#company_email').val()) {
									Toast.fire({
									  icon: 'error',
									  title: 'Contact email is required!'
									})
									return r.focusInvalid()
									return false;
								} else if(!$('#phone_no').val()) {
									Toast.fire({
									  icon: 'error',
									  title: 'Contact phone number is required!'
									})
									return r.focusInvalid()
									return false;
								}
								saveTabContent(t);
							},
							onTabClick: function(a, i, e) {
								return jQuery("a", i).trigger("blur"), !1;
							},
						}),
							jQuery(".js-wizard-validation2").bootstrapWizard({
								tabClass: "",
								onTabShow: function(a, i, e) {
									var r =
											((e + 1) / i.find("li").length) *
											100,
										t = i
											.parents(".block")
											.find(
												'[data-wizard="progress"] > .progress-bar'
											);
									t.length && t.css({ width: r + 1 + "%" });
								},
								onNext: function(a, e, t) {
									if (!i.valid()) return r.focusInvalid(), !1;
								},
								onTabClick: function(a, i, e) {
									return jQuery("a", i).trigger("blur"), !1;
								},
							});
					},
				},
				{
					key: "init",
					value: function() {
						this.initWizardDefaults(),
							this.initWizardSimple(),
							this.initWizardValidation();
					},
				},
			]),
			null && a(e.prototype, null),
			r && a(e, r),
			i
		);
	})();
	jQuery(function() {
		i.init();
	});
})();

function saveTabContent(index) {
	var obj = {};
	var wizard = $(`#wizard-validation-step${index}`);
	if (index == 1) {
		obj = {
			company_name: wizard.find('#company_name').val(),
			company_website: wizard.find('#website').val(),
			company_address: wizard.find('#company_address').val(),
			contact_person: wizard.find('#contact_person').val(),
			phone_no: wizard.find('#phone_no').val(),
			company_email: wizard.find('#company_email').val(),
			company_bio: wizard.find('#company_bio').val(),
			tab: 'tab1'
		}
	} 
	
	console.log(obj)

	axios
		.post('/3pl/company-promo/store', obj)
		.then((response) => {
			Toast.fire({
				icon: 'success',
				title: response.data
			})
		})
		.catch((error) => {
			Toast.fire({
				icon: 'success',
				title: error.response.data
			})
		})
}
